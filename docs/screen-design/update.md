# 画面設計書(レッスン記録編集画面)

## 画面の目的
下記の3点となります。

1. レッスン記録参照画面で表示されていたidに該当する登録日、生徒名、進捗・課題をDBのテーブル"history"から取得すること

2. 取得した内容を画面に表示すること(生徒名、進捗・課題にあった内容はテキストボックスのデフォルト値とする)

3. 「戻る」を押下でレッスン記録参照画面、「更新」を押下で該当するレコードを更新の上レッスン記録画面へ遷移すること

## 画面の遷移方法
レッスン記録参照画面にて確認ボタンを押下することでDBのテーブル"history"のidから該当する行のページへと遷移します。

## 表示画面
以下はレッスン記録を編集する画面のモック画像です。

![レッスン記録編集](./images/update.png)

## 画面構成要素
1. アプリケーション名

    アプリケーション名「レッスン記録」を文字列で表示します。

2. 画面タイトル

    画面タイトル「レッスン記録参照」を文字列で表示します。

3. ID

    文字列「id」を見出しで表示します。

4. 取得したID

    DBよりテーブル"history"から取得した"id"を文字列で表示します。

5. 登録日

    文字列「登録日」を見出しで表示します。

6. 取得した登録日

    DBよりテーブル"history"から取得した"lessonDate"を文字列で表示します。

7. 生徒名

    文字列「生徒名」を見出しで表示します。

8. 生徒名入力欄

    生徒名を入力するためのテキストボックスです。(最大文字数10で必須入力とする)

    ユーザー側が入力する前はデフォルトでDBよりテーブル"history"から取得した"studentName"の文字列を表示します。

9. 進捗・課題

    文字列「進捗・課題」を見出しで表示します。

10. 進捗・課題入力欄

    進捗・課題を入力するためのテキストボックスです。(最大文字数200で必須入力とする)

    ユーザー側が入力する前はデフォルトでDBよりテーブル"history"から取得した"lessonMemo"の文字列を表示します。

11. 戻るボタン

    押下した際に記録参照画面へ遷移します。

12. 編集ボタン

    押下した際に8,10をDBのテーブル"history"に更新の上記録一覧画面へ遷移します。

## アクション設計
| No   | アクション名 | アクション詳細 |
| --- | ----------- | ------- |
| 1 | 初期表示 | レッスン記録参照画面から遷移したタイミングで画面構成要素より1~12を表示します。<br>4,6,8,10には下記の取得式で取得したものを反映させます。<br>取得式：SELECT * FROM history WHERE id = 遷移前のレッスン記録参照画面に該当するid; |
| 2 | 記録参照画面遷移 | 画面構成要素より11を押下した際にレッスン記録画面へ遷移します。 |
| 3 | レコード更新 | 画面構成要素より12を押下した際に下記の更新式を実行の上レッスン記録画面へ遷移します。 <br> 更新式：UPDATE history SET studentName = 画面構成要素より8の入力値, lessonMemo = 画面構成要素より10の入力値 WHERE id = 遷移前のレッスン記録参照画面に該当するid;|
| 4 | 例外処理 | 画面構成要素より12を押下した際にテーブル"history"から該当する行を取得できなかった場合レッスン記録画面へ遷移します。 |